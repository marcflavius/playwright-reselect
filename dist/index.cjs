"use strict";var p=Object.defineProperty;var D=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var b=Object.prototype.hasOwnProperty;var L=(e,t)=>{for(var r in t)p(e,r,{get:t[r],enumerable:!0})},x=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of h(t))!b.call(e,n)&&n!==r&&p(e,n,{get:()=>t[n],enumerable:!(o=D(t,n))||o.enumerable});return e};var w=e=>x(p({},"__esModule",{value:!0}),e);var E={};L(E,{reselectTree:()=>T});module.exports=w(E);var y=require("@playwright/test");function f(e){let t=(0,y.expect)(e);function r(n,s){let c={};for(let i of Object.keys(n)){let a=n[i];typeof a=="function"?c[i]=async(...m)=>(await a.apply(n,m),s):typeof a=="object"&&a!==null&&(c[i]=r(a,s))}return c}let o={};return Object.assign(o,r(t,o)),o}function l(e){return Object.assign(e,{debug:d(e),expectChain:()=>f(e)})}function j(e){let t=[],r=/(>)(<)(\/*)/g;e=e.replace(r,`$1
$2$3`);let o=0,n="  ";return e.split(`
`).forEach(s=>{let c=s.trim();c.match(/^<\/\w/)&&(o=Math.max(o-1,0)),t.push(n.repeat(o)+c),c.match(/^<\w[^>]*[^\/]>$/)&&o++}),t.join(`
`)}function d(e){return async()=>{try{let t=await e.evaluate(o=>o.outerHTML),r=`
[DEBUG] ${e.toString()}
${j(t)}
`;return console.log(r),r}catch(t){return console.error("[DEBUG ERROR] Could not read innerHTML:",t),t}}}function g(e,t){let r={get:()=>{let o=e.page.locator(e.locator._selector);return e.locator=e.page.locator(":root"),l(o)},debug:d(e.locator),expectChain:()=>f(e.locator)};if(t.children)for(let o of Object.keys(t.children)){let n=t.children[o];r[o]=()=>(n.build(e),g(e,n))}if(t.custom)for(let o of Object.keys(t.custom)){let n=t.custom[o];r[o]=(...s)=>{let c=n(e,...s);return e.locator=e.page.locator(":root"),l(c)}}return Object.assign(r,{inspect:()=>(console.log("[INSPECT] "+e.locator._selector),r)}),r}function C(e){let t={};for(let r of Object.keys(e.descriptor)){let o=e.descriptor[r];t[r]=()=>(o.build(e),g(e,o))}return t}var u=class{constructor(t,r){if(!r)throw new Error("new TestLocatorResolver(page, descriptor): descriptor is required");if(!t)throw new Error("new TestLocatorResolver(page, descriptor): page is required");this.page=t,this.descriptor=r,this.locator=t.locator(":root"),Object.assign(this,C(this))}},T=e=>t=>new u(t,e);0&&(module.exports={reselectTree});
//# sourceMappingURL=index.cjs.map